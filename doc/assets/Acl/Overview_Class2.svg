<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="716" height="684"><defs></defs><g><g transform="scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="377" y="17" width="336" height="272" opacity="0.2"></rect></g><g transform="scale(1,1)"><rect fill="#ffffff" stroke="none" x="370" y="10" width="336" height="272"></rect></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 370 10 L 706 10 L 706 282 L 370 282 L 370 10 Z" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 370 35 L 706 35" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 370 133 L 706 133" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="italic" font-weight="bold" text-decoration="none" x="515.5" y="29.5">Adapter</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="52.5">#_eventsManager: ManagerInterface|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="67.5">#_defaultAccess: int = 1</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="82.5">#_accessGranted: bool = false</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="97.5">#_activeRole: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="112.5">#_activeResource: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="127.5">#_activeAccess: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="150.5">+setEventsManager(eventsManager: ManagerInterface)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="165.5">+getEventsManager(): ManagerInterface|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="180.5">+setDefaultAction(defaultAccess: int)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="195.5">+getDefaultAction(): int</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="210.5">+getActiveRole(): string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="225.5">+getActiveResource(): string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="375" y="240.5">+getActiveAccess(): string|null</text></g></g><g transform="scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="21" y="17" width="335" height="130" opacity="0.2"></rect></g><g transform="scale(1,1)"><rect fill="#ffffff" stroke="none" x="14" y="10" width="335" height="130"></rect></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 14 10 L 349 10 L 349 140 L 14 140 L 14 10 Z" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 14 35 L 349 35" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 14 73 L 349 73" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="154" y="29.5">Resource</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="52.5">#_name: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="67.5">#_description: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="90.5">+__construct(name: string, description: string|null = null)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="105.5">+getName(): string</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="120.5">+getDescription(): string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="19" y="135.5">+__toString(): string</text></g></g><g transform="scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="17" y="161" width="335" height="130" opacity="0.2"></rect></g><g transform="scale(1,1)"><rect fill="#ffffff" stroke="none" x="10" y="154" width="335" height="130"></rect></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 154 L 345 154 L 345 284 L 10 284 L 10 154 Z" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 179 L 345 179" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 217 L 345 217" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="164.5" y="173.5">Role</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="196.5">#_name: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="211.5">#description: string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="234.5">+__construct(name: string, description: string|null = null)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="249.5">+getName(): string</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="264.5">+getDescription(): string|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="279.5">+__toString(): string</text></g></g><g transform="scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="17" y="305" width="696" height="376" opacity="0.2"></rect></g><g transform="scale(1,1)"><rect fill="#ffffff" stroke="none" x="10" y="298" width="696" height="376"></rect></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 298 L 706 298 L 706 674 L 10 674 L 10 298 Z" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 323 L 706 323" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 10 436 L 706 436" stroke-miterlimit="10"></path></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="334.5" y="317.5">Memory</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="340.5">#_rolesNames: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="355.5">#_roles: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="370.5">#_resourcesNames: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="385.5">#_resources: array|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="400.5">#_access: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="415.5">#_roleInherits: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="430.5">#_accessList: array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="453.5">+__construct()</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="468.5">+addRole(role: RoleInterface|string, accessInherits: object|string|null = null): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="483.5">+addInherit(roleName: string, roleToInherit: string|object): bool|null</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="498.5">+isRole(roleName: string): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="513.5">+isResource(resourceName: string): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="528.5">+addResource(resource: Resource|string, accessList: array|string|null = null): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="543.5">+addResourceAccess(resourceName: string, accessList: array|string): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="558.5">+dropResourceAccess(resourceName: string, accessList: array|string)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="573.5">+allow(roleName: string, resourceName: string, access: string|array)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="588.5">+deny(roleName: string, resourceName: string, access: string|array)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="603.5">+isAllowed(role: string, resource: string, access: string): bool</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="618.5">+getRoles(): array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="633.5">+getResources(): array</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="648.5">#_allowOrDeny(roleName: string, resourceName: string, access: string|array, action: int)</text></g></g><g transform="scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="15" y="663.5">-_checkInheritance(role: string, resource: string, access: string, accessList: string, roleInherits: array|null): int</text></g></g><g transform="scale(1,1)"><path fill="none" stroke="#000000" d="M 15 664 L 645 664" stroke-miterlimit="10"></path></g></g></svg>